(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-index"],{1954:function(e,t,a){"use strict";var i=a("6e94"),s=a.n(i);s.a},"6e94":function(e,t,a){var i=a("fcc9");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("4f06").default;s("37185d65",i,!0,{sourceMap:!1,shadowMode:!1})},"6f3f":function(e,t,a){"use strict";var i=a("4ea4");a("4de4"),a("caad"),a("2532"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("ed62")),n=a("2b28"),o=a("e190"),r={data:function(){return{config:{},langs:[],listHeight:0,curLang:{},isCN:!1,codeImg:"",isSend:!1,countdown:60,sendParams:{captcha:"",phone:"",prefix:""},params:{phone:"",password:"",paypwd:"",captcha:"",invite_code:"",code:"",prefix:""},rePassword:"",rePayPassword:"",areaCodes:[],filterAreaCodes:[],inputArea:""}},onLoad:function(e){e&&e.code&&(this.params.invite_code=e.code),this.config=uni.getStorageSync("config"),this.getLang(),this.getCaptcha(),this.getPrefix()},methods:{setLocaleMessage:function(e){for(var t=0;t<e.length;t++){var i=a("0bb9")("./".concat(this.curLang.name,".json"));this._i18n.setLocaleMessage(e[t].name,i)}},getLang:function(){var e=this;(0,n.getLangs)({}).then((function(t){e.langs=t.data.list,e.curLang=e.langs.filter((function(e){return e.name==t.data.default}))[0],uni.setStorageSync("lang",e.curLang.name),e.setLocaleMessage(t.data.list),e._i18n.locale=e.curLang.name}))},showLang:function(){this.listHeight?this.listHeight=0:this.listHeight=80*this.langs.length},chooseLang:function(e){this.curLang=e,this._i18n.setLocaleMessage(this.curLang.name,a("0bb9")("./".concat(this.curLang.name,".json"))),this._i18n.locale=e.name,uni.setStorageSync("lang",e.name),this.showLang()},back:function(){uni.navigateBack()},clickCodeImg:function(){this.getCaptcha()},getCaptcha:function(){var e=this;(0,o.getCaptcha)({}).then((function(t){e.codeImg="data:image/png;base64,".concat(t.data)}))},getPrefix:function(){var e=this;(0,o.getPrefix)({}).then((function(t){e.areaCodes=t.data.list,e.filterAreaCodes=t.data.list}))},inputCaptcha:function(e){this.sendParams.captcha=e.detail.value,this.params.captcha=e.detail.value},inputPhone:function(e){this.sendParams.phone=e.detail.value,this.params.phone=e.detail.value},sendCode:function(){var e=this,t=new s.default,a=t.test({captcha:[{rule:"isRequired",value:this.sendParams.captcha,message:this.$t("register.valid_code")}],prefix:[{rule:"isRequired",value:this.params.prefix,message:this.$t("register.valid_area")}],phone:[{rule:"isRequired",value:this.params.phone,message:this.$t("register.valid_phone")},{rule:"maxLength",value:[this.params.phone,15],message:this.$t("register.valid_isPhone")}]});if(a)uni.showToast({title:a.errMsg,duration:3e3,icon:"none"});else{(0,o.sendcode)(this.sendParams).then((function(e){uni.showToast({title:e.msg,duration:3e3})})).catch((function(e){console.log(e)})),this.countdown=60,this.isSend=!0;var i=setInterval((function(){e.countdown>1?e.countdown--:(clearInterval(i),e.isSend=!1)}),1e3)}},openAreaList:function(){this.$refs.popup.open()},selectAreaCode:function(e){this.params.prefix=e.prefix,this.sendParams.prefix=e.prefix,this.$refs.popup.close()},searchArea:function(){var e=this;this.inputArea?this.filterAreaCodes=this.areaCodes.filter((function(t){return t.prefix.includes(e.inputArea)||t.en.includes(e.inputArea)||t.cn.includes(e.inputArea)})):this.filterAreaCodes=this.areaCodes},register:function(){var e=this;console.log(this.params);var t=new s.default,a={captcha:null,prefix:[{rule:"isRequired",value:this.params.prefix,message:this.$t("register.valid_area")}],phone:[{rule:"isRequired",value:this.params.phone,message:this.$t("register.valid_phone")},{rule:"maxLength",value:[this.params.phone,15],message:this.$t("register.valid_isPhone")}],code:null,password:[{rule:"isRequired",value:this.params.password,message:this.$t("register.valid_login_password")},{rule:"minLength",value:[this.params.password,6],message:this.$t("register.valid_login_password_num")},{rule:"maxLength",value:[this.params.password,18],message:this.$t("register.valid_login_password_num")},{rule:"isEqual",value:[this.params.password,this.rePassword],message:this.$t("register.valid_login_password_same")}],paypwd:[{rule:"isRequired",value:this.params.paypwd,message:this.$t("register.valid_pay_password")},{rule:"minLength",value:[this.params.password,6],message:this.$t("register.valid_pay_password_num")},{rule:"maxLength",value:[this.params.password,18],message:this.$t("register.valid_pay_password_num")},{rule:"isEqual",value:[this.params.paypwd,this.rePayPassword],message:this.$t("register.valid_pay_password_same")}],incode:null};1==this.config.isopenverifycode&&(a.captcha=[{rule:"isRequired",value:this.params.captcha,message:this.$t("register.valid_code")}]),1==this.config.isopenmobliecode&&(a.code=[{rule:"isRequired",value:this.params.code,message:this.$t("register.valid_phone_code")}]);var i=t.test(a);i?uni.showToast({title:i.errMsg,duration:3e3,icon:"none"}):(0,o.register)(this.params).then((function(t){uni.setStorageSync("token",t.token),uni.setStorageSync("userInfo",t.data),uni.showToast({title:e.$t("register.reg_success_tip")}),setTimeout((function(){uni.reLaunch({url:"/pages/index/index"})}),2e3)})).catch((function(e){console.log(e)}))}}};t.default=r},"90a5":function(e,t,a){"use strict";a.r(t);var i=a("d798"),s=a("9e47");for(var n in s)"default"!==n&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("1954");var o,r=a("f0c5"),l=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"9bf4f092",null,!1,i["a"],o);t["default"]=l.exports},"9e47":function(e,t,a){"use strict";a.r(t);var i=a("6f3f"),s=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},d798:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var i={uniPopup:a("2396").default},s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"page_bg",style:{backgroundColor:e.config["theme-bg-color"]}},[e.config.loginbg?a("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.config.loginbg}}):e._e()],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"head flex-row jc-between ai-center"},[a("v-uni-view",{staticClass:"signup"},[e._v(e._s(e.$t("login.btn2")))]),a("v-uni-view",{staticClass:"lang flex-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showLang.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"40rpx"},attrs:{src:e.curLang.logo,mode:"widthFix"}}),a("v-uni-view",{staticClass:"list",style:{height:e.listHeight+"rpx"}},e._l(e.langs,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item flex-row ai-center",on:{click:function(a){a.stopPropagation(),arguments[0]=a=e.$handleEvent(a),e.chooseLang(t)}}},[a("v-uni-image",{staticStyle:{width:"40rpx","margin-right":"20rpx"},attrs:{src:t.logo,mode:"widthFix"}}),a("v-uni-text",[e._v(e._s(t.content))])],1)})),1)],1)],1),a("v-uni-view",{staticClass:"logo flex-center"},[a("v-uni-image",{staticClass:"img",attrs:{src:e.config.logo,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"form"},[1==e.config.isopenverifycode?a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-input",{staticClass:"flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"text",value:e.sendParams.captcha,"placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder1")},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputCaptcha.apply(void 0,arguments)}}}),a("v-uni-image",{staticStyle:{width:"140rpx",height:"60rpx"},attrs:{src:e.codeImg},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickCodeImg.apply(void 0,arguments)}}})],1):e._e(),a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-view",{staticClass:"areacode",style:{color:e.config["theme-text-color"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openAreaList.apply(void 0,arguments)}}},[e._v("+"+e._s(e.params.prefix||e.$t("register.choose_area")))]),a("v-uni-input",{staticClass:"flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"text",value:e.sendParams.phone,"placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder2")},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputPhone.apply(void 0,arguments)}}})],1),1==e.config.isopenmobliecode?a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-input",{staticClass:"flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"text","placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder5")},model:{value:e.params.code,callback:function(t){e.$set(e.params,"code",t)},expression:"params.code"}}),a("v-uni-view",{class:["send","flex-center"],style:{backgroundColor:e.isSend?"#ddd":e.config["theme-btn-bgcolor"],color:e.isSend?"#333":e.config["theme-btn-color"]}},[e.isSend?a("v-uni-text",[e._v(e._s(e.countdown)+"s")]):a("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendCode.apply(void 0,arguments)}}},[e._v(e._s(e.$t("register.sendcode")))])],1)],1):e._e(),a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-text",{staticClass:"iconfont"},[e._v("")]),a("v-uni-input",{staticClass:"input flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"password","placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder6")},model:{value:e.params.password,callback:function(t){e.$set(e.params,"password",t)},expression:"params.password"}})],1),a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-text",{staticClass:"iconfont"},[e._v("")]),a("v-uni-input",{staticClass:"input flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"password","placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder7")},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}})],1),a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-text",{staticClass:"iconfont"},[e._v("")]),a("v-uni-input",{staticClass:"input flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"password","placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder8")},model:{value:e.params.paypwd,callback:function(t){e.$set(e.params,"paypwd",t)},expression:"params.paypwd"}})],1),a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-text",{staticClass:"iconfont"},[e._v("")]),a("v-uni-input",{staticClass:"input flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"password","placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder9")},model:{value:e.rePayPassword,callback:function(t){e.rePayPassword=t},expression:"rePayPassword"}})],1),1==e.config.isopeninvitecode?a("v-uni-view",{staticClass:"item flex-row ai-center"},[a("v-uni-text",{staticClass:"iconfont"},[e._v("")]),a("v-uni-input",{staticClass:"input flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"text","placeholder-style":"color: #bbb;",placeholder:e.$t("register.placeholder10")},model:{value:e.params.invite_code,callback:function(t){e.$set(e.params,"invite_code",t)},expression:"params.invite_code"}})],1):e._e(),a("v-uni-view",{staticClass:"btn flex-center",style:{color:e.config["theme-btn-color"],backgroundColor:e.config["theme-btn-bgcolor"],marginTop:"100rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}},[e._v(e._s(e.$t("login.btn2")))]),a("v-uni-view",{staticClass:"btn flex-center",style:{color:e.config["theme-btn2-color"],backgroundColor:e.config["theme-btn2-bgcolor"],marginTop:"30rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}},[e._v(e._s(e.$t("login.btn1")))])],1)],1),a("uni-popup",{ref:"popup",attrs:{type:"center","background-color":"#fff"}},[a("v-uni-view",{staticClass:"area"},[a("v-uni-view",{staticClass:"title flex-center",style:{color:e.config["theme-text-color"]}},[e._v(e._s(e.$t("register.choose_area")))]),a("v-uni-view",{staticClass:"swrap flex-row ai-center"},[a("v-uni-input",{staticClass:"areainput flex-1",style:{color:e.config["theme-text-color"]},attrs:{type:"text",placeholder:e.$t("register.area_placeholder")},model:{value:e.inputArea,callback:function(t){e.inputArea=t},expression:"inputArea"}}),a("v-uni-view",{staticClass:"search flex-center",style:{color:e.config["theme-btn-color"],backgroundColor:e.config["theme-btn-bgcolor"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchArea.apply(void 0,arguments)}}},[e._v(e._s(e.$t("register.search")))])],1),a("v-uni-scroll-view",{staticClass:"scroll",attrs:{"scroll-y":!0}},e._l(e.filterAreaCodes,(function(t,i){return a("v-uni-view",{key:i,staticClass:"aitm flex-row ai-center",style:{color:e.config["theme-text-color"]},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.selectAreaCode(t)}}},[e._v(e._s(e.isCN?t.cn:t.en)+" (+"+e._s(t.prefix)+")")])})),1)],1)],1),e.listHeight?a("v-uni-view",{staticClass:"mask",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.listHeight=0}}}):e._e()],1)},n=[]},fcc9:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.page .mask[data-v-9bf4f092]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);z-index:1}.page .page_bg[data-v-9bf4f092]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1}.page .content .head[data-v-9bf4f092]{height:%?100?%;padding:0 %?30?%}.page .content .head .lang[data-v-9bf4f092]{position:relative;width:%?70?%;height:%?70?%;background-color:#fff;box-shadow:0 0 10px #ddd;border-radius:50%}.page .content .head .lang .list[data-v-9bf4f092]{position:absolute;top:%?80?%;right:0;width:%?240?%;border-radius:%?10?%;background-color:#fff;transition:all .3s;overflow:hidden;z-index:10}.page .content .head .lang .list .item[data-v-9bf4f092]{font-size:%?30?%;width:100%;height:%?80?%;padding-left:%?30?%;border-bottom:1px solid #eee;box-sizing:border-box}.page .content .head .lang .list .item[data-v-9bf4f092]:last-child{border:none}.page .content .logo[data-v-9bf4f092]{width:100%;height:%?300?%}.page .content .logo .img[data-v-9bf4f092]{width:%?200?%;height:%?200?%}.page .content .form[data-v-9bf4f092]{padding:0 %?30?%}.page .content .form .item[data-v-9bf4f092]{width:100%;height:%?90?%;background-color:rgba(170,69,69,.1);border-radius:%?90?%;padding:%?20?% %?30?%;margin-top:%?26?%;box-sizing:border-box}.page .content .form .item .iconfont[data-v-9bf4f092]{color:#fff}.page .content .form .item .iconfont.right[data-v-9bf4f092]{padding-left:%?30?%}.page .content .form .item .input[data-v-9bf4f092]{height:100%;padding-left:%?20?%;margin-left:%?20?%;border-left:1px solid #fff}.page .content .form .item .areacode[data-v-9bf4f092]{padding-right:%?20?%;margin-right:%?20?%;border-right:1px solid #fff}.page .content .form .item .send[data-v-9bf4f092]{width:%?140?%;height:%?60?%;border-radius:%?10?%;font-size:%?20?%}.page .content .form .item .send.disable[data-v-9bf4f092]{background-color:#bbb}.page .content .form .btn[data-v-9bf4f092]{width:100%;height:%?90?%;border-radius:%?90?%;background-color:#3573c1;color:#fff;font-weight:700;margin-top:%?26?%}.page .area[data-v-9bf4f092]{color:#fff;width:%?600?%;overflow:hidden;padding:%?20?%;box-sizing:border-box}.page .area .title[data-v-9bf4f092]{font-size:%?32?%;font-weight:700;padding:%?10?% 0}.page .area .swrap[data-v-9bf4f092]{padding:%?20?% 0}.page .area .swrap .areainput[data-v-9bf4f092]{border-radius:%?6?%;height:%?50?%;padding:0 %?20?%;font-size:%?26?%;border:1px solid #ddd;box-sizing:border-box}.page .area .swrap .search[data-v-9bf4f092]{width:%?120?%;height:%?50?%;margin-left:%?20?%;border-radius:%?6?%}.page .area .scroll[data-v-9bf4f092]{width:100%;height:%?800?%}.page .area .scroll .aitm[data-v-9bf4f092]{height:%?70?%;padding-left:%?20?%}',""]),e.exports=t}}]);